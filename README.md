---

# TSTS v22.15 (Triggerable Sensor Telemetry System)

iPhoneのセンサーを利用し、車両の挙動（G・回転・速度）をリアルタイムでロギング・転送する、プロユースを想定したテレメトリシステムです。

##  主要機能

* **速度連動オートロギング**: GPS速度をトリガーとした自動記録制御。
* **10km/h 設定**: 極低速から記録を開始。ピット作業や微速域の分析に。
* **50km/h 設定**: コースイン後の全開走行をターゲットに、不要なデータを排除。


* **高精度センサーログ**: 加速度、ジャイロ、GPSを同期させた統合バッファリング。
* **P2P リアルタイム転送**: PeerJS を活用した PARENT-CHILD 連携。
* **富士スピードウェイ（FSW）最適化**:
* 主要コーナー（T1, T3, T6, T10等）の V-Min 自動計測。
* セクター通過時のタイム計測とクラウド（Google Sheets）への自動ポスト。



##  運用フロー

1. **初期化**: iPhone Safari で起動し `CONNECT` を実行。センサーとスリープ防止機能を有効化。
2. **トリガー選択**: 状況に応じ、画面左上のボタンで 10km/h または 50km/h を選択。
3. **計測**: 条件を満たすと自動で `REC ACTIVE`（赤点滅）となり記録を開始。
4. **保存**: セッション終了後、`LOG SAVE` にて CSV 形式でローカル保存。

##  CSV データ構造

`time, lat, lng, speed, accX, accY, accZ, gyroA, gyroB, gyroG`
（タイムスタンプ、座標、速度、3軸加速度、3軸回転速度）

---
